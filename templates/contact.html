{% extends "base.html" %}
{% block title %}Contact{% endblock %}

{% block scripts %}
<script type="text/javascript">
    var app = new Vue({
        el: "#vue-app",
        delimiters: ['[[',']]'],
        data() {
            return {
                email: "",
                issueHeader: "",
                issueDescription: "",
            };
        },
        methods: {
            submit() {
                axios.post('/contact', {
                    email: [[email]],
                    issueHeader: [[issueHeader]],
                    issueDescription: [[issueDescription]]
                })
            }
        }
    });

    app.getCurrent();
    setInterval(app.getCurrent, 60000);
</script>
{% endblock %}

{% block content %}
<div id = "vue-app">
    <div style="text-align:center">
        <input type="email" placeholder="Contact Email" v-model="email"> <br> <br>
        <input type="text" placeholder="Issue Heading" v-model="issueHeader"> <br> <br>
        <input type="text" placeholder="Type your issue here." v-model="issueDescription"> <br> <br>
        <button @click="submit">Submit</button>
        [[email]]
    </div>

</div>
{% endblock %}